{"name":"Verify","tagline":"垂直表单验证","body":"## verify\r\n\r\n* 版本：1.4\r\n* 教程：[http://gallery.kissyui.com/verify/1.4/guide/index.html](http://gallery.kissyui.com/verify/1.4/guide/index.html)\r\n* demo：[http://gallery.kissyui.com/verify/1.4/demo/index.html](http://gallery.kissyui.com/verify/1.4/demo/index.html)\r\n\r\n## changelog\r\n\r\n### V1.4\r\n\r\n    [!]添加适配器，提供更安全的环境:指定操作范围参数el。\r\n    [!]修复add 、remove 、modify方法。\r\n\r\n## 综述\r\n\r\n verify,灵活的垂直表单验证组件。\r\n\r\n 表单验证的配置非常灵活，既可以选择内置的规则，也可以自己指定校验方法。\r\n\r\n 由于所依赖的业务方原因，组件提供的默认样式更适用于垂直化的表单验证。\r\n\r\n\r\n\r\n## 快速使用\r\n\r\n### 初始化组件\r\n\r\n      S.use('gallery/verify/1.4/index', function (S, verify) {\r\n              var verify = new verify('#J_Container1',{\r\n                  fields:{\r\n                      name: [\r\n                          ['required', '请填写联系人姓名。'],\r\n                          ['length', 0, 30, '联系人姓名不要超过30个字']\r\n                      ],\r\n                      tel: [\r\n                          ['required', '请填写联系人手机号码。'],\r\n                          'mobile'\r\n                      ],\r\n                      phone: [\r\n                          ['mobile', '备选号码必须为数字']\r\n                      ],\r\n                      email: [\r\n                          ['required', '请填写联系人邮箱。'],\r\n                          ['email', '请检查电子邮箱的格式是否正确。']\r\n                      ]\r\n                  }\r\n              });\r\n\r\n\r\n\r\n##  参数 el 容器container，所有的dom操作都限定于此\r\n## 参数 confing\r\n\r\n <table>\r\n <tr>\r\n <td>字段</td>\r\n <td>类型</td>\r\n <td>含义</td>\r\n <td>说明</td>\r\n </tr>\r\n <tr>\r\n <td>fields</td>\r\n <td>object</td>\r\n <td>要校验的域。</td>\r\n <td>fields对应的value值是一个数值，每个数组的项表示一个校验规则集，可以是数组、函数或字符串，具体意义参见“内置规则校验”表格</td>\r\n </tr>\r\n <tr>\r\n <td>nodeFn</td>\r\n <td>function</td>\r\n <td>要校验的表单域节点</td>\r\n <td>默认按fields的name值对应节点id获取</td>\r\n </tr>\r\n <tr>\r\n <td>valueFn</td>\r\n <td>function </td>\r\n <td>验证时的value值获取</td>\r\n <td>默认获取对应input的value值（如果域节点不是input 默认返回''空字符串)</td>\r\n </tr>\r\n <tr>\r\n <td>disabled</td>\r\n <td>array</td>\r\n <td>被禁用的域</td>\r\n <td>默认为空数组 </td>\r\n </tr>\r\n <tr>\r\n <td>autoVerify</td>\r\n <td>boolean</td>\r\n <td>是否自动校验 </td>\r\n <td>默认 true</td>\r\n </tr>\r\n <tr>\r\n <td>errorTipTpl</td>\r\n <td>html片段</td>\r\n <td>错误提示dom结构</td>\r\n <td>如果想重置默认的提示样式，可以传入自定义的template，但要注意的是：显示错误文案的容器需加J_InfoContainer这个JS的class钩子,否则会直接在错误容器里面写html</td>\r\n </tr>\r\n <tr>\r\n <td>errorWraper</td>\r\n <td>KISSY Selector</td>\r\n <td>错误提示append的位置</td>\r\n <td>可以指定错误提示显示位置，默认为null,此时在域所在节点的父元素下append。由于没有指定的样式和交互，如果选择了这个参数，可能需要自行调整交互</td>\r\n </tr>\r\n </table>\r\n\r\n 内置规则校验\r\n\r\n * 函数 此时可以自己定义验证方法，回调参数为验证时的value值。返回格式为[isSuceess{boolean},info{string}]\r\n * 数组 此时第一个数组项为规则名称，最后一个为错误提示文案，中间的为其他参数\r\n * 字符串 此时字符串既为规则名称\r\n\r\n <table>\r\n <tr>\r\n <td>规则名称</td>\r\n <td>含义</td>\r\n <td>参数</td>\r\n <td>规则</td>\r\n <td>默认错误值</td>\r\n </tr>\r\n <tr>\r\n <td>required</td>\r\n <td>必填</td>\r\n <td>info</td>\r\n <td>为空时不通过</td>\r\n <td>'亲，不能为空。'</td>\r\n </tr>\r\n <tr>\r\n <td>name</td>\r\n <td>名字</td>\r\n <td>info</td>\r\n <td>名字中有中英文之外的字符时不通过</td>\r\n <td>姓名只能由中文或英文字母组成，请检查是否存在其它字符</td>\r\n </tr>\r\n <tr>\r\n <td>length</td>\r\n <td>长度</td>\r\n <td>[min,max,]info</td>\r\n <td>先校验最小长度 ;再校验最大长度</td>\r\n <td>亲，长度至少需要min || 亲，长度最多不能超过max</td>\r\n </tr>\r\n <tr>\r\n <td>email</td>\r\n <td>邮件格式</td>\r\n <td>info</td>\r\n <td> </td>\r\n <td>亲，请输入正确的email格式。</td>\r\n </tr>\r\n <tr>\r\n <td>english</td>\r\n <td>英文字母</td>\r\n <td>info</td>\r\n <td>规则</td>\r\n <td>亲，这里只能输入英文字母。</td>\r\n </tr>\r\n <tr>\r\n <td>mobile</td>\r\n <td>简单的手机号码校验</td>\r\n <td>info</td>\r\n <td>只要是纯数字和-的组合即可</td>\r\n <td>手机号码必须为数字。</td>\r\n </tr>\r\n <tr>\r\n <td>range</td>\r\n <td>含义</td>\r\n <td>min,max,info</td>\r\n <td>数值区间</td>\r\n <td>亲，只能在{min}至{max}之间</td>\r\n </tr>\r\n <tr>\r\n <td>number</td>\r\n <td>含义</td>\r\n <td>info</td>\r\n <td>规则</td>\r\n <td>亲，只能输入数字。</td>\r\n </tr>\r\n <tr>\r\n <td>pattern</td>\r\n <td>正则表达式</td>\r\n <td>info</td>\r\n <td>不匹配正则时报错</td>\r\n <td>亲，输入格式有误。</td>\r\n </tr>\r\n <tr>\r\n <td>date</td>\r\n <td>日期格式</td>\r\n <td>info</td>\r\n <td>不满足YYYY-MM-DD时报错</td>\r\n <td>请填写正确的日期格式：YYYY-MM-DD。</td>\r\n </tr>\r\n </table>\r\n\r\n\r\n\r\n\r\n\r\n## API说明\r\n <table>\r\n <tr>\r\n <td>方法</td>\r\n <td>参数</td>\r\n <td>含义</td>\r\n <td>返回值</td>\r\n </tr>\r\n <tr>\r\n <td>verify</td>\r\n <td>(field{string})</td>\r\n <td>要校验的域。不传时校验所有的域</td>\r\n <td>{succeed:boolean,results:[{succeed:boolean,info:'errMsg' },firstError]}</td>\r\n </tr>\r\n <tr>\r\n <td>add</td>\r\n <td>(field,value)<br/>field 域名 ;value 规则</td>\r\n <td>添加校验域</td>\r\n <td></td>\r\n </tr>\r\n <tr>\r\n <td>remove</td>\r\n <td>(field) </td>\r\n <td>移除校验域</td>\r\n <td> </td>\r\n </tr>\r\n <tr>\r\n <td>modify</td>\r\n <td>(field ,value)</td>\r\n <td>修改某个域的校验规则</td>\r\n <td> </td>\r\n </tr>\r\n <tr>\r\n <td>disable </td>\r\n <td>(field,isable)<br/>isable[boolean]是否可用 true可以，false 不可以 </td>\r\n <td>禁用/启用某个域</td>\r\n <td> </td>\r\n </tr>\r\n <tr>\r\n <td>reset</td>\r\n <td>(field)<br/>field要重置的域，不传时为所有域\r\n </td>\r\n <td>重置状态</td>\r\n <td> </td>\r\n </tr>\r\n <tr>\r\n <td>destroy </td>\r\n <td></td>\r\n <td>注销</td>\r\n <td> </td>\r\n </tr>\r\n\r\n <tr>\r\n <td>error</td>\r\n <td></td>\r\n <td>显示错误信息并标注错误状态</td>\r\n <td> </td>\r\n </tr>\r\n </table>\r\n\r\n\r\n## 提供事件\r\n <table>\r\n <tr>\r\n <td>事件名称</td>\r\n <td>触发条件</td>\r\n <td>提供数据</td>\r\n </tr>\r\n <tr>\r\n <td>verify</td>\r\n <td>每一个域校验结束之后</td>\r\n <td>field 域 info 信息 succeed 是否成功（true 成功 false 失败）</td>\r\n </tr>\r\n <tr>\r\n <td>fail</td>\r\n <td>每一个域校验失败之后</td>\r\n <td>field 域 info 信息 </td>\r\n </tr>\r\n </table>\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}