<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Verify : 垂直表单验证">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Verify</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/kissygalleryteam/verify">View on GitHub</a>

          <h1 id="project_title">Verify</h1>
          <h2 id="project_tagline">垂直表单验证</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/kissygalleryteam/verify/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/kissygalleryteam/verify/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h2>
<a id="verify" class="anchor" href="#verify" aria-hidden="true"><span class="octicon octicon-link"></span></a>verify</h2>

<ul>
<li>版本：1.4</li>
<li>教程：<a href="http://gallery.kissyui.com/verify/1.4/guide/index.html">http://gallery.kissyui.com/verify/1.4/guide/index.html</a>
</li>
<li>demo：<a href="http://gallery.kissyui.com/verify/1.4/demo/index.html">http://gallery.kissyui.com/verify/1.4/demo/index.html</a>
</li>
</ul>

<h2>
<a id="changelog" class="anchor" href="#changelog" aria-hidden="true"><span class="octicon octicon-link"></span></a>changelog</h2>

<h3>
<a id="v14" class="anchor" href="#v14" aria-hidden="true"><span class="octicon octicon-link"></span></a>V1.4</h3>

<pre><code>[!]添加适配器，提供更安全的环境:指定操作范围参数el。
[!]修复add 、remove 、modify方法。
</code></pre>

<h2>
<a id="综述" class="anchor" href="#%E7%BB%BC%E8%BF%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>综述</h2>

<p>verify,灵活的垂直表单验证组件。</p>

<p>表单验证的配置非常灵活，既可以选择内置的规则，也可以自己指定校验方法。</p>

<p>由于所依赖的业务方原因，组件提供的默认样式更适用于垂直化的表单验证。</p>

<h2>
<a id="快速使用" class="anchor" href="#%E5%BF%AB%E9%80%9F%E4%BD%BF%E7%94%A8" aria-hidden="true"><span class="octicon octicon-link"></span></a>快速使用</h2>

<h3>
<a id="初始化组件" class="anchor" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E7%BB%84%E4%BB%B6" aria-hidden="true"><span class="octicon octicon-link"></span></a>初始化组件</h3>

<pre><code>  S.use('gallery/verify/1.4/index', function (S, verify) {
          var verify = new verify('#J_Container1',{
              fields:{
                  name: [
                      ['required', '请填写联系人姓名。'],
                      ['length', 0, 30, '联系人姓名不要超过30个字']
                  ],
                  tel: [
                      ['required', '请填写联系人手机号码。'],
                      'mobile'
                  ],
                  phone: [
                      ['mobile', '备选号码必须为数字']
                  ],
                  email: [
                      ['required', '请填写联系人邮箱。'],
                      ['email', '请检查电子邮箱的格式是否正确。']
                  ]
              }
          });
</code></pre>

<h2>
<a id="参数-el-容器container所有的dom操作都限定于此" class="anchor" href="#%E5%8F%82%E6%95%B0-el-%E5%AE%B9%E5%99%A8container%E6%89%80%E6%9C%89%E7%9A%84dom%E6%93%8D%E4%BD%9C%E9%83%BD%E9%99%90%E5%AE%9A%E4%BA%8E%E6%AD%A4" aria-hidden="true"><span class="octicon octicon-link"></span></a>参数 el 容器container，所有的dom操作都限定于此</h2>

<h2>
<a id="参数-confing" class="anchor" href="#%E5%8F%82%E6%95%B0-confing" aria-hidden="true"><span class="octicon octicon-link"></span></a>参数 confing</h2>

<p></p><table>
 <tr>
 <td>字段</td>
 <td>类型</td>
 <td>含义</td>
 <td>说明</td>
 </tr>
 <tr>
 <td>fields</td>
 <td>object</td>
 <td>要校验的域。</td>
 <td>fields对应的value值是一个数值，每个数组的项表示一个校验规则集，可以是数组、函数或字符串，具体意义参见“内置规则校验”表格</td>
 </tr>
 <tr>
 <td>nodeFn</td>
 <td>function</td>
 <td>要校验的表单域节点</td>
 <td>默认按fields的name值对应节点id获取</td>
 </tr>
 <tr>
 <td>valueFn</td>
 <td>function </td>
 <td>验证时的value值获取</td>
 <td>默认获取对应input的value值（如果域节点不是input 默认返回''空字符串)</td>
 </tr>
 <tr>
 <td>disabled</td>
 <td>array</td>
 <td>被禁用的域</td>
 <td>默认为空数组 </td>
 </tr>
 <tr>
 <td>autoVerify</td>
 <td>boolean</td>
 <td>是否自动校验 </td>
 <td>默认 true</td>
 </tr>
 <tr>
 <td>errorTipTpl</td>
 <td>html片段</td>
 <td>错误提示dom结构</td>
 <td>如果想重置默认的提示样式，可以传入自定义的template，但要注意的是：显示错误文案的容器需加J_InfoContainer这个JS的class钩子,否则会直接在错误容器里面写html</td>
 </tr>
 <tr>
 <td>errorWraper</td>
 <td>KISSY Selector</td>
 <td>错误提示append的位置</td>
 <td>可以指定错误提示显示位置，默认为null,此时在域所在节点的父元素下append。由于没有指定的样式和交互，如果选择了这个参数，可能需要自行调整交互</td>
 </tr>
 </table>

<p>内置规则校验</p>

<ul>
<li>函数 此时可以自己定义验证方法，回调参数为验证时的value值。返回格式为[isSuceess{boolean},info{string}]</li>
<li>数组 此时第一个数组项为规则名称，最后一个为错误提示文案，中间的为其他参数</li>
<li>
<p>字符串 此时字符串既为规则名称</p>

<table>
<tr>
<td>规则名称</td>
<td>含义</td>
<td>参数</td>
<td>规则</td>
<td>默认错误值</td>
</tr>
<tr>
<td>required</td>
<td>必填</td>
<td>info</td>
<td>为空时不通过</td>
<td>'亲，不能为空。'</td>
</tr>
<tr>
<td>name</td>
<td>名字</td>
<td>info</td>
<td>名字中有中英文之外的字符时不通过</td>
<td>姓名只能由中文或英文字母组成，请检查是否存在其它字符</td>
</tr>
<tr>
<td>length</td>
<td>长度</td>
<td>[min,max,]info</td>
<td>先校验最小长度 ;再校验最大长度</td>
<td>亲，长度至少需要min || 亲，长度最多不能超过max</td>
</tr>
<tr>
<td>email</td>
<td>邮件格式</td>
<td>info</td>
<td> </td>
<td>亲，请输入正确的email格式。</td>
</tr>
<tr>
<td>english</td>
<td>英文字母</td>
<td>info</td>
<td>规则</td>
<td>亲，这里只能输入英文字母。</td>
</tr>
<tr>
<td>mobile</td>
<td>简单的手机号码校验</td>
<td>info</td>
<td>只要是纯数字和-的组合即可</td>
<td>手机号码必须为数字。</td>
</tr>
<tr>
<td>range</td>
<td>含义</td>
<td>min,max,info</td>
<td>数值区间</td>
<td>亲，只能在{min}至{max}之间</td>
</tr>
<tr>
<td>number</td>
<td>含义</td>
<td>info</td>
<td>规则</td>
<td>亲，只能输入数字。</td>
</tr>
<tr>
<td>pattern</td>
<td>正则表达式</td>
<td>info</td>
<td>不匹配正则时报错</td>
<td>亲，输入格式有误。</td>
</tr>
<tr>
<td>date</td>
<td>日期格式</td>
<td>info</td>
<td>不满足YYYY-MM-DD时报错</td>
<td>请填写正确的日期格式：YYYY-MM-DD。</td>
</tr>
</table>
</li>
</ul>

<h2>
<a id="api说明" class="anchor" href="#api%E8%AF%B4%E6%98%8E" aria-hidden="true"><span class="octicon octicon-link"></span></a>API说明</h2>

<p></p><table>
 <tr>
 <td>方法</td>
 <td>参数</td>
 <td>含义</td>
 <td>返回值</td>
 </tr>
 <tr>
 <td>verify</td>
 <td>(field{string})</td>
 <td>要校验的域。不传时校验所有的域</td>
 <td>{succeed:boolean,results:[{succeed:boolean,info:'errMsg' },firstError]}</td>
 </tr>
 <tr>
 <td>add</td>
 <td>(field,value)<br>field 域名 ;value 规则</td>
 <td>添加校验域</td>
 <td></td>
 </tr>
 <tr>
 <td>remove</td>
 <td>(field) </td>
 <td>移除校验域</td>
 <td> </td>
 </tr>
 <tr>
 <td>modify</td>
 <td>(field ,value)</td>
 <td>修改某个域的校验规则</td>
 <td> </td>
 </tr>
 <tr>
 <td>disable </td>
 <td>(field,isable)<br>isable[boolean]是否可用 true可以，false 不可以 </td>
 <td>禁用/启用某个域</td>
 <td> </td>
 </tr>
 <tr>
 <td>reset</td>
 <td>(field)<br>field要重置的域，不传时为所有域
 </td>
 <td>重置状态</td>
 <td> </td>
 </tr>
 <tr>
 <td>destroy </td>
 <td></td>
 <td>注销</td>
 <td> </td>
 </tr>

<p></p>
<tr>
 <td>error</td>
 <td></td>
 <td>显示错误信息并标注错误状态</td>
 <td> </td>
 </tr>
 </table>

<h2>
<a id="提供事件" class="anchor" href="#%E6%8F%90%E4%BE%9B%E4%BA%8B%E4%BB%B6" aria-hidden="true"><span class="octicon octicon-link"></span></a>提供事件</h2>

<p></p><table>
 <tr>
 <td>事件名称</td>
 <td>触发条件</td>
 <td>提供数据</td>
 </tr>
 <tr>
 <td>verify</td>
 <td>每一个域校验结束之后</td>
 <td>field 域 info 信息 succeed 是否成功（true 成功 false 失败）</td>
 </tr>
 <tr>
 <td>fail</td>
 <td>每一个域校验失败之后</td>
 <td>field 域 info 信息 </td>
 </tr>
 </table>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Verify maintained by <a href="https://github.com/kissygalleryteam">kissygalleryteam</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
